<?xml version="1.0"?>
<recovery>
	<pages>
		
		<page name="dialog_mkdir">
			<template name="dialog_body_key"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_encrypt_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_encrypt_hdr_y%"/>
				<text>{@fm_mkdir=Create folder}</text>
			</text>

			<text style="caption_hl">
				<placement x="%bg_storage_hdr_x%" y="%row2_2a_y%"/>
				<text>{@fm_mkdir_folder=Folder name}</text>
			</text>

			<input>
				<placement x="%bg_storage_hdr_x%" y="%input_encr_y%" w="%input_encr_width%" h="%input_height%"/>
				<text>%mkdir_folder%</text>
				<data name="mkdir_folder"/>
				<restrict minlen="1" maxlen="32" />
				<actions>
					<action function="overlay"/>
					<action function="cmd">mkdir "%tw_file_location1%/%mkdir_folder%"</action>
					<action function="set">mkdir_folder=</action>
					<action function="page">filemanagerlist</action>
				</actions>
			</input>

			<fill color="%accent%">
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%" w="%input_encr_width%" h="%input_line_height%" placement="1"/>
			</fill>

			<button style="btn_dlg">
				<placement x="%db_right_x%" y="%db_encrypt_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="key">back</action>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>
		
		
		<page name="dialog_activeflash">
			<template name="dialog_body_num"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_encrypt_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_encrypt_hdr_y%"/>
				<text>{@flashlight_dialog1=Flashlight}</text>
			</text>

			<text style="caption_hl">
				<placement x="%bg_storage_hdr_x%" y="%row2_2a_y%"/>
				<text>{@flashlight_dialog2=Brightness level}</text>
			</text>

			<!-- compute нужен для сброса нуля, который ты, дебил, напишешь: 09 => 9 // 00 => 0-->
			<input>
				<placement x="%bg_storage_hdr_x%" y="%input_encr_y%" w="%input_encr_width%" h="%input_height%"/>
				<text>%flash_active_temp%</text>
				<data name="flash_active_temp"/>
				<restrict minlen="1" maxlen="5" allow="1234567890" />
				<actions>
					<action function="overlay"/>
					<action function="compute">flash_active_temp+1</action>
					<action function="compute">flash_active_temp-1</action>
					<action function="set">flash_active=%flash_active_temp%</action>
				</actions>
			</input>

			<fill color="%accent%">
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%" w="%input_encr_width%" h="%input_line_height%" placement="1"/>
			</fill>

			<button style="btn_dlg">
				<condition var1="flashlight_on" var2="0"/>
				<placement x="%db_right_x%" y="%db_encrypt_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="key">back</action>
			</button>
			
			<button style="btn_dlg">
				<condition var1="flashlight_on" var2="1"/>
				<placement x="%db_left_x%" y="%db_encrypt_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="key">back</action>
			</button>
			
			<button style="btn_dlg_hl">
				<condition var1="flashlight_on" var2="1"/>
				<placement x="%db_right_x%" y="%db_encrypt_y%"/>
				<text>{@test_btn=TEST}</text>
				<action function="cmd">echo %flash_active_temp% > /sys/class/leds/%flashlight_default%/brightness</action>
			</button>
		
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>
		
		<page name="dialog_path">
			<template name="dialog_body_key"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_encrypt_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_encrypt_hdr_y%"/>
				<text>{@fm_path=Enter path}</text>
			</text>

			<text style="caption_hl">
				<placement x="%bg_storage_hdr_x%" y="%row2_2a_y%"/>
				<text>{@fm_path2=Path}</text>
			</text>

			<input>
				<placement x="%bg_storage_hdr_x%" y="%input_encr_y%" w="%input_encr_width%" h="%input_height%"/>
				<text>%tw_file_location_temp%</text>
				<data name="tw_file_location_temp"/>
				<restrict minlen="1" maxlen="999" />
				<actions>
					<action function="overlay"/>
					<action function="set">tw_file_location1=%tw_file_location_temp%</action>
					<action function="page">filemanagerlist</action>
				</actions>
			</input>

			<fill color="%accent%">
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%" w="%input_encr_width%" h="%input_line_height%" placement="1"/>
			</fill>
			
			<button style="btn_dlg">
				<placement x="%db_left_x%" y="%db_encrypt_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="key">back</action>
			</button>
			
			<button style="btn_dlg_hl">
				<placement x="%db_right_x%" y="%db_encrypt_y%"/>
				<text>{@goto_storage=STORAGE}</text>
				<action function="set">storage_tofiles=1</action>
				<action function="overlay"/>
				<action function="overlay">dialog_storage</action>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>
		
		
		<page name="menu_sort">
			<template name="dialog_body"/>
			
			<button>
				<placement x="%screen_w%" y="%ab_menu_y%" placement="1"/>
				<image resource="menu_sort"/>
			</button>

			<text style="menu_text">
				<placement x="%ab_menu_sort_text_x%" y="%ab_menu_inst_1_text_y%"/>
				<text>{@sort_by_name_asc=Name}</text>
			</text>
			
			<image>
				<condition var1="tw_gui_sort_order" op="=" var2="1"/>
				<placement x="%ab_menu_x%" y="%ab_menu_inst_1_y%"/>
				<image resource="arrow"/>
			</image>
			
			<image>
				<condition var1="tw_gui_sort_order" op="=" var2="-1"/>
				<placement x="%ab_menu_x%" y="%ab_menu_inst_1_y%"/>
				<image resource="arrow_d"/>
			</image>

			<button style="menu_btn_sort">
				<condition var1="tw_gui_sort_order" op="=" var2="1"/>
				<placement x="%ab_menu_sort_x%" y="%ab_menu_inst_1_y%" w="%ab_menu_sort_btn_w%" h="%ab_menu_sort_btn_h%"/>
				<action function="set">tw_gui_sort_order=-1</action>
			</button>
			
			<button style="menu_btn_sort">
				<condition var1="tw_gui_sort_order" op="!=" var2="1"/>
				<placement x="%ab_menu_sort_x%" y="%ab_menu_inst_1_y%" w="%ab_menu_sort_btn_w%" h="%ab_menu_sort_btn_h%"/>
				<action function="set">tw_gui_sort_order=1</action>
			</button>
			
			<text style="menu_text">
				<placement x="%ab_menu_sort_text_x%" y="%ab_menu_inst_2_text_y%"/>
				<text>{@sort_by_date_asc=Date}</text>
			</text>
			
			<image>
				<condition var1="tw_gui_sort_order" op="=" var2="2"/>
				<placement x="%ab_menu_x%" y="%ab_menu_inst_2_y%"/>
				<image resource="arrow"/>
			</image>
			
			<image>
				<condition var1="tw_gui_sort_order" op="=" var2="-2"/>
				<placement x="%ab_menu_x%" y="%ab_menu_inst_2_y%"/>
				<image resource="arrow_d"/>
			</image>

			<button style="menu_btn_sort">
				<condition var1="tw_gui_sort_order" op="=" var2="2"/>
				<placement x="%ab_menu_sort_x%" y="%ab_menu_inst_2_y%" w="%ab_menu_sort_btn_w%" h="%ab_menu_sort_btn_h%"/>
				<action function="set">tw_gui_sort_order=-2</action>
			</button>
			
			<button style="menu_btn_sort">
				<condition var1="tw_gui_sort_order" op="!=" var2="2"/>
				<placement x="%ab_menu_sort_x%" y="%ab_menu_inst_2_y%" w="%ab_menu_sort_btn_w%" h="%ab_menu_sort_btn_h%"/>
				<action function="set">tw_gui_sort_order=2</action>
			</button>

			<text style="menu_text">
				<placement x="%ab_menu_sort_text_x%" y="%ab_menu_inst_3_text_y%"/>
				<text>{@sort_by_size_asc=Size}</text>
			</text>

			<image>
				<condition var1="tw_gui_sort_order" op="=" var2="3"/>
				<placement x="%ab_menu_x%" y="%ab_menu_inst_3_y%"/>
				<image resource="arrow"/>
			</image>
			
			<image>
				<condition var1="tw_gui_sort_order" op="=" var2="-3"/>
				<placement x="%ab_menu_x%" y="%ab_menu_inst_3_y%"/>
				<image resource="arrow_d"/>
			</image>
			
			<button style="menu_btn_sort">
				<placement x="%ab_menu_sort_x%" y="%ab_menu_inst_3_y%" w="%ab_menu_sort_btn_w%" h="%ab_menu_sort_btn_h%"/>
				<action function="set">tw_gui_sort_order=-3</action>
			</button>

			<button style="menu_btn_sort">
				<condition var1="tw_gui_sort_order" op="!=" var2="3"/>
				<placement x="%ab_menu_sort_x%" y="%ab_menu_inst_3_y%" w="%ab_menu_sort_btn_w%" h="%ab_menu_sort_btn_h%"/>
				<action function="set">tw_gui_sort_order=3</action>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>

		<page name="dialog_storage">
			<template name="dialog_body"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_storage_y%"/>
				<image resource="dialog_bg"/>
			</button>
			
			<partitionlist style="partitionlist_dialog">
				<condition var1="storage_tofiles" op="!=" var2="1"/>
				<placement x="%storage_indent_x%" y="%storage_indent_y%" w="%dialog_w%" h="%storage_height%"/>
				<data name="tw_storage_path"/>
				<listtype name="storage"/>
			</partitionlist>
			
			<partitionlist style="partitionlist_dialog">
				<condition var1="storage_tofiles" var2="1"/>
				<placement x="%storage_indent_x%" y="%storage_indent_y%" w="%dialog_w%" h="%storage_height%"/>
				<data name="tw_file_location1"/>
				<listtype name="storage"/>
			</partitionlist>

			<button style="btn_dlg_hl">
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<action function="key">back</action>
			</button>
			
			<button style="btn_dlg">
				<placement x="%db_left_x%" y="%db_y%"/>
				<text>{@update_btn=UPDATE}</text>
				<action function="refreshsizes"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_storage_hdr_y%"/>
				<text>{@select_storage_hdr=Select Storage}</text>
			</text>
			
			<action>
				<touch key="home"/>
				<action function="set">storage_tofiles=0</action>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="set">storage_tofiles=0</action>
				<action function="overlay"/>
			</action>
		</page>


		<page name="dialog_encryption1">
			<template name="dialog_body_key"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_encrypt_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_encrypt_hdr_y%"/>
				<text>{@encryption_hdr=Enable Encryption}</text>
			</text>

			<text style="caption_hl">
				<placement x="%bg_storage_hdr_x%" y="%row2_2a_y%"/>
				<text>{@set_password=Set Password}</text>
			</text>

			<input>
				<placement x="%bg_storage_hdr_x%" y="%input_encr_y%" w="%input_encr_width%" h="%input_height%"/>
				<text>%tw_backup_encrypt_display%</text>
				<data name="tw_backup_password" mask="*" maskvariable="tw_backup_encrypt_display"/>
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_"/>
				<actions>
					<action function="overlay"/>
					<action function="overlay">dialog_encryption2</action>
				</actions>
			</input>

			<fill color="%accent%">
				<condition var1="tw_password_not_match" op="!=" var2="1"/>
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%" w="%input_encr_width%" h="%input_line_height%" placement="1"/>
			</fill>

			<fill color="%text_fail%">
				<condition var1="tw_password_not_match" var2="1"/>
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%" w="%input_encr_width%" h="%input_line_height%" placement="1"/>
			</fill>

			<text style="text_input_fail">
				<condition var1="tw_password_not_match" var2="1"/>
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%"/>
				<text>{@pass_not_match=Passwords do not match!}</text>
			</text>

			<button style="btn_dlg">
				<placement x="%db_right_x%" y="%db_encrypt_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="key">back</action>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="key">back</action>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="set">tw_encrypt_backup=0</action>
				<action function="set">tw_backup_password=</action>
				<action function="set">tw_backup_password2=</action>
				<action function="set">tw_backup_encrypt_display=</action>
				<action function="set">tw_backup_encrypt_display2=</action>
				<action function="overlay"/>
			</action>
		</page>

		<page name="dialog_encryption2">
			<template name="dialog_body_key"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_encrypt_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_encrypt_hdr_y%"/>
				<text>{@encryption_hdr=Enable Encryption}</text>
			</text>

			<text style="caption_hl">
				<placement x="%bg_storage_hdr_x%" y="%row2_2a_y%"/>
				<text>{@verifying_pas=Verify Password}</text>
			</text>

			<input>
				<placement x="%bg_storage_hdr_x%" y="%input_encr_y%" w="%input_encr_width%" h="%input_height%"/>
				<text>%tw_backup_encrypt_display2%</text>
				<data name="tw_backup_password2" mask="*" maskvariable="tw_backup_encrypt_display2"/>
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_"/>
				<actions>
					<action function="overlay"/>
					<action function="page">checkbackuppassword</action>
				</actions>
			</input>

			<fill color="%accent%">
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%" w="%input_encr_width%" h="%input_line_height%" placement="1"/>
			</fill>

			<button style="btn_dlg">
				<placement x="%db_right_x%" y="%db_encrypt_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="key">back</action>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="key">back</action>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="set">tw_encrypt_backup=0</action>
				<action function="set">tw_backup_password=</action>
				<action function="set">tw_backup_password2=</action>
				<action function="set">tw_backup_encrypt_display=</action>
				<action function="set">tw_backup_encrypt_display2=</action>
				<action function="overlay"/>
			</action>
		</page>

		<page name="dialog_folder">
			<template name="dialog_body"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_storage_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_storage_hdr_y%"/>
				<text>{@set_bookmark_hdr=Set Bookmark}</text>
			</text>

			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text1_y%"/>
				<text>{@dialog_folder_note_1=Do you want to set the current folder}</text>
			</text>

			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text2_y%"/>
				<text>{@dialog_folder_note_2=as the default folder for this list?}</text>
			</text>

			<listbox style="settingslist_dialog">
				<placement x="%storage_indent_x%" y="%db_checkbox_y%" w="%dialog_w%" h="%lb_l1%"/>
				<listitem name="{@hide_folder=Don't ask me again}">
					<data variable="dialog_hide_folder"/>
				</listitem>
			</listbox>
			
			<button style="btn_dlg">
				<placement x="%db_left_x%" y="%db_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<actions>
					<action function="set">dialog_hide_folder=0</action>
					<action function="set">dialog_context=none</action>
					<action function="overlay"/>
				</actions>
			</button>

			<button style="btn_dlg_hl">
				<condition var1="dialog_context" var2="loc_files"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="set">location_filemanager=%tw_file_location1%</action>
					<action function="set">tw_file_location1=%location_filemanager%</action>
					<action function="set">dialog_context=none</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="btn_dlg_hl">
				<condition var1="dialog_context" var2="loc_install"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="set">location_install=%tw_zip_location%</action>
					<action function="set">tw_zip_location=%location_install%</action>
					<action function="set">dialog_context=none</action>
					<action function="overlay"/>
				</actions>
			</button>

			<button style="btn_dlg_hl">
				<condition var1="dialog_context" var2="loc_addfile"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="set">location_addfile=%tw_zip_location%</action>
					<action function="set">tw_zip_location=%location_addfile%</action>
					<action function="set">dialog_context=none</action>
					<action function="overlay"/>
				</actions>
			</button>

			<button style="btn_dlg_hl">
				<condition var1="dialog_context" var2="loc_theme"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="set">location_themes=%tw_zip_location%</action>
					<action function="set">tw_zip_location=%location_themes%</action>
					<action function="set">dialog_context=none</action>
					<action function="overlay"/>
				</actions>
			</button>

			<button style="btn_dlg_hl">
				<condition var1="dialog_context" var2="loc_image"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="set">location_install_image=%tw_zip_location%</action>
					<action function="set">tw_zip_location=%location_install_image%</action>
					<action function="set">dialog_context=none</action>
					<action function="overlay"/>
				</actions>
			</button>

			<button style="btn_dlg_hl">
				<condition var1="dialog_context" var2="loc_splash_image"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="set">location_install_splash_image=%tw_zip_location%</action>
					<action function="set">tw_zip_location=%location_install_splash_image%</action>
					<action function="set">dialog_context=none</action>
					<action function="overlay"/>
				</actions>
			</button>

			<button style="btn_dlg_hl">
				<condition var1="dialog_context" var2="loc_splash_png"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="set">location_install_splash_png=%tw_zip_location%</action>
					<action function="set">tw_zip_location=%location_install_splash_png%</action>
					<action function="set">dialog_context=none</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>
		<page name="beta">
			<template name="dialog_body"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_storage_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_storage_hdr_y%"/>
				<text>Это - бета!</text>
			</text>

			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text1_y%"/>
				<text>Workshop сейчас лучше не</text>
			</text>

			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text2_y%"/>
				<text>использовать, тема еще не готова!</text>
			</text>

			<button style="btn_dlg_hl">
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="set">beta_wh=1</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>

		<page name="dialog_offset">
			<template name="dialog_body_num"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_encrypt_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="caption_hl">
				<placement x="%bg_storage_hdr_x%" y="%row2_2a_y%"/>
				<text>{@dialog_offset_note=Select your offset value}</text>
			</text>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_encrypt_hdr_y%"/>
				<text>{@tz_offset_hdr=Time Offset}</text>
			</text>
			
			<input>
				<placement x="%bg_storage_hdr_x%" y="%input_encr_y%" w="%input_encr_width%" h="%input_height%"/>
				<text>%zone_temp%</text>
				<data name="zone_temp"/>
				<restrict minlen="1" maxlen="2" allow="1234567890" />
				<actions>
					<action function="compute">zone_temp+1</action>
					<action function="compute">zone_temp-1</action>
					<action function="overlay"/>
					<action function="page">check_zone</action>
				</actions>
			</input>
			
			<fill color="%accent%">
				<condition var1="zone_error" op="!=" var2="1"/>
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%" w="%input_encr_width%" h="%input_line_height%" placement="1"/>
			</fill>

			<fill color="%text_fail%">
				<condition var1="zone_error" var2="1"/>
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%" w="%input_encr_width%" h="%input_line_height%" placement="1"/>
			</fill>

			<text style="text_input_fail">
				<condition var1="zone_error" var2="1"/>
				<placement x="%bg_storage_hdr_x%" y="%row3_1a_y%"/>
				<text>{@offset_wrong=Wrong offset!}</text>
			</text>
			
			<button style="btn_dlg">
				<placement x="%db_right_x%" y="%db_encrypt_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="set">zone_error=0</action>
				<action function="overlay"/>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>

		<page name="check_zone">
			<action>
				<condition var1="zone_temp" op="&gt;=" var2="60"/>
				<action function="set">zone_error=1</action>
				<action function="page">ext_time</action>
				<action function="overlay">dialog_offset</action>
			</action>
			<action>
				<condition var1="zone_temp" op="&lt;" var2="60"/>
				<action function="set">zone_error=0</action>
				<action function="set">tw_time_zone_guioffset=%zone_temp%</action>
				<action function="setguitimezone"/>
				<action function="page">ext_time</action>
				<action function="overlay"/>
			</action>
		</page>
		
		<page name="dialog_reset">
			<template name="dialog_body"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_storage_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_storage_hdr_y%"/>
				<text>{@dialog_reset_theme_hdr=Default Settings}</text>
			</text>

			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text1_y%"/>
				<text>{@dialog_reset_note_1=Do you want to restore the}</text>
			</text>

			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text2_y%"/>
				<text>{@dialog_reset_note_2=default settings for TWRP recovery}</text>
			</text>

			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text3_y%"/>
				<text>{@dialog_reset_note_3=and theme? Reboot required.}</text>
			</text>

			<button style="btn_dlg">
				<placement x="%db_left_x%" y="%db_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="overlay"/>
			</button>

			<button style="btn_dlg_hl">
				<placement x="%db_right_x%" y="%db_y%"/>
				<condition var1="tw_reboot_recovery" var2="1"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="restoredefaultsettings"/>
					<action function="overlay"/>
					<action function="reboot">recovery</action>
				</actions>
			</button>
			
			<button style="btn_dlg_hl">
				<placement x="%db_right_x%" y="%db_y%"/>
				<condition var1="tw_reboot_system" var2="1"/>
				<condition var1="tw_reboot_recovery" op="!=" var2="1"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="restoredefaultsettings"/>
					<action function="overlay"/>
					<action function="reboot">system</action>
				</actions>
			</button>
			
			<button style="btn_dlg_hl">
				<placement x="%db_right_x%" y="%db_y%"/>
				<condition var1="tw_reboot_system" op="!=" var2="1"/>
				<condition var1="tw_reboot_recovery" op="!=" var2="1"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="restoredefaultsettings"/>
					<action function="overlay"/>
				</actions>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>
		
		<page name="dialog_remove_theme">
			<template name="dialog_body"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_storage_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_storage_hdr_y%"/>
				<text>{@dialog_remove_theme_hdr=Remove Theme}</text>
			</text>

			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text1_y%"/>
				<text>{@dialog_remove_theme_1=Do you want to remove the theme?}</text>
			</text>

			<button style="btn_dlg">
				<placement x="%db_left_x%" y="%db_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="overlay"/>
			</button>

			<button style="btn_dlg_hl">
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="cmd">
					rm -f "%tw_theme_path%/ui.zip";
					</action>
					<action function="overlay"/>
					<action function="reload"/>
				</actions>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>
		
		<page name="dialog_flashset">
		
			<action>
				<condition var1="flashlight_file" var2="lcd-backlight"/>
				<action function="set">flashlight_govno=1</action>
			</action>
			<action>
				<condition var1="flashlight_file" var2="button-backlight"/>
				<action function="set">flashlight_govno=1</action>
			</action>
			<action>
				<condition var1="flashlight_file" var2="wled"/>
				<action function="set">flashlight_govno=1</action>
			</action>
			<action>
				<condition var1="flashlight_file" var2="blue"/>
				<action function="set">flashlight_govno=1</action>
			</action>
			<action>
				<condition var1="flashlight_file" var2="green"/>
				<action function="set">flashlight_govno=1</action>
			</action>
			<action>
				<condition var1="flashlight_file" var2="red"/>
				<action function="set">flashlight_govno=1</action>
			</action>
		
			<template name="dialog_body"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_storage_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_storage_hdr_y%"/>
				<text>{@flashlight_dialog1=Flashlight}</text>
			</text>

			<text style="text_body2">
				<condition var1="flashlight_govno" var2="0"/>
				<placement x="%bg_storage_hdr_x%" y="%db_text1_y%"/>
				<text>{@flashlight_good_1=Do you want to use this source as a}</text>
			</text>
			
			<text style="text_body2">
				<condition var1="flashlight_govno" var2="0"/>
				<placement x="%bg_storage_hdr_x%" y="%db_text2_y%"/>
				<text>{@flashlight_good_2=flashlight?}</text>
			</text>
			
			<text style="text_body2">
				<condition var1="flashlight_govno" var2="1"/>
				<placement x="%bg_storage_hdr_x%" y="%db_text1_y%"/>
				<text>{@flashlight_govno_1=This source can not be used as a}</text>
			</text>
			
			<text style="text_body2">
				<condition var1="flashlight_govno" var2="1"/>
				<placement x="%bg_storage_hdr_x%" y="%db_text2_y%"/>
				<text>{@flashlight_govno_2=flashlight!}</text>
			</text>

			<button style="btn_dlg">
				<condition var1="flashlight_govno" var2="0"/>
				<placement x="%db_left_x%" y="%db_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="overlay"/>
			</button>
			
			<button style="btn_dlg_hl">
				<condition var1="flashlight_govno" var2="1"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<action function="overlay"/>
			</button>

			<button style="btn_dlg_hl">
				<condition var1="flashlight_govno" var2="0"/>
				<condition var1="screen_hint" var2="0"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<action function="set">flashlight_default=%flashlight_file%</action>
				<action function="set">flashlight_on=1</action>
				<action function="set">screen_hint=1</action>
				<action function="overlay"/>
			</button>
			
			<button style="btn_dlg_hl">
				<condition var1="flashlight_govno" var2="0"/>
				<condition var1="screen_hint" var2="2"/>
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<action function="set">flashlight_default=%flashlight_file%</action>
				<action function="set">flashlight_on=1</action>
				<action function="overlay"/>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>
		<page name="dialog_create_uizip">
			<template name="dialog_body"/>
			
			<button>
				<placement x="%bg_storage_x%" y="%bg_storage_y%"/>
				<image resource="dialog_bg"/>
			</button>

			<text style="text_dlg_title">
				<placement x="%bg_storage_hdr_x%" y="%bg_storage_hdr_y%"/>
				<text>{@ws_create_t=Create theme}</text>
			</text>

			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text1_y%"/>
				<text>{@ws_create_t_1=Workshop will create new}</text>
			</text>
			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text2_y%"/>
				<text>{@ws_create_t_2=theme to continue.}</text>
			</text>
			<text style="text_body2">
				<placement x="%bg_storage_hdr_x%" y="%db_text3_y%"/>
				<text>{@ws_create_t_3=Reboot required.}</text>
			</text>

			<button style="btn_dlg">
				<placement x="%db_left_x%" y="%db_y%"/>
				<text>{@cancel_btn=CANCEL}</text>
				<action function="overlay"/>
			</button>

			<button style="btn_dlg_hl">
				<placement x="%db_right_x%" y="%db_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="overlay"/>
					<action function="page">ext_theme_busy</action>
				</actions>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
			</action>
		</page>
	</pages>
</recovery>